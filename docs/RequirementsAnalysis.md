# 需求分析  

![whatcanido-2021-12-04](https://cdn.jsdelivr.net/gh/cat-note/bottleassets@latest/img/whatcanido-2021-12-04.jpg)  

## TUI界面  

比起GUI，我最近有点喜欢上了TUI界面。```TUI```全称```Terminal User Interface```或```Text-based User Interface```，顾名思义，TUI是基于文字且在终端命令行中呈现的**用户界面**。  

Python里简单的```print()```可不能构建一个用户界面，通过搜索引擎，我了解到了Python的一个**标准库**——```curses```，相关内容我会在下一节[用到的标准库和扩展库介绍]中提到。  

## 艺术字  

既然是小游戏，当然咱也需要输出点好看的艺术字了~就像下面这样：  

![HelloWorld-2021-12-04](https://cdn.jsdelivr.net/gh/cat-note/bottleassets@latest/img/HelloWorld-2021-12-04.png)  

通过查询得知在**Linux**环境下可以通过包管理器安装figlet组件来生成这类艺术字，想着python是不是也有类似组件，我很快便找到了```pyfiglet```这个扩展库。  

当然游戏中用到的艺术字只有几种，所以我决定额外生成这些艺术字并加以保存，在真正运行的时候就**不用特地安装扩展库**了。  

## 游戏设计  

这是一个类似贪吃蛇的游戏，但又不仅仅是贪吃蛇。我将这个小游戏命名为```SKLINE```,意为```Skill Line```，同时也有```Snake Line```的意思。根据游戏的各组成部分，列出以下需求： 
1. 线体  

    实际游戏中运动的是一条线（其实就可以看作一条蛇）。线体分为很多节，整个线体我准备**用一个列表**进行表示，列表的每一个元素**代表线体每一节的坐标，以元组进行储存**。  

    线体的移速，技能属性则用额外的**字典**进行储存。
    
2. 地图  

    地图我想着是用集合点来表示，利用集合的特性地图部分能高效、方便地与游戏其他元素进行沟通。 

3. 随机触发点  

    对贪吃蛇而言吃到食物能涨分，这个食物就是一个触发点，通常是随机生成的。值得注意的是，触发点的随机生成还要避开**已有的障碍物和触发点**。  

    这些触发点包括：
    * 涨分点（单纯涨分）
    * 涨分并增长线体点（蛇体会增长，但也会涨分）
    * 增速点（碰到后涨分，蛇体会加速）
    * 减缓线体速度点（碰到后蛇体会减缓）
    * 近视点（遇到近视点，视野会减小，但速度会放缓一点，这个效果只会持续一会儿）
    * 炸弹点（遇到炸弹点要紧急避开，炸弹点没有炸到头部的话可以炸掉（削掉）线尾巴，剪短线体）
    * 无敌点（碰到无敌点后可以穿墙，无视障碍物碰撞一段时间）  
    * 流石点（碰到流石点后地图上会有滚动的石头，除无敌模式外头部不能碰到滚石）  
    * 穿越点（碰到穿越点后蛇会被传送到地图中随机一个地方）

    根据**不同游戏难易度**，生成每种点的**概率不同**（可以进行配置），不同种类点的**颜色**不同（当然也可以相同，难度更高）  

4. 游戏结束判定

    1. 非无敌模式情况下，线头撞到墙壁（地图四周都是墙壁）。

    2. 非无敌模式下，线头撞到流石，或者被炸弹炸到。

    3. 无论什么情况下，线头撞到自己线体。  

5. 游戏难度设定  

    秉承简单配置，快速游玩的想法。游戏难度设定就一个滚动条，通过键盘按键进行配置。  

6. 游戏操作  

    通过对键盘按键key的记录来实现游戏操作。